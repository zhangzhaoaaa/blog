<!DOCTYPE html>
	<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
	<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
	<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
	<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	    <head>
	        <meta charset="utf-8">
	        <meta http-equiv="X-UA-Compatible" content="IE=edge">
	        <title></title>
	        <meta name="description" content="">
	        <meta name="viewport" content="width=device-width, initial-scale=1">
	
	        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	        <script>
	        	// Simple JavaScript Templating
// John Resig - http://ejohn.org/ - MIT Licensed
(function(){
  var cache = {};
 
  this.tmpl = function tmpl(str, data){
    // Figure out if we're getting a template, or if we need to
    // load the template - and be sure to cache the result.
    var fn = !/\W/.test(str) ?
      cache[str] = cache[str] ||
        tmpl(document.getElementById(str).innerHTML) :
     
      // Generate a reusable function that will serve as a template
      // generator (and which will be cached).
      new Function("obj",
        "var p=[];"+
        //,print=function(){p.push.apply(p,arguments);};" +
       
        // Introduce the data as local variables using with(){}
        "with(obj){p.push('" +
       
        str
          .replace(/[\r\t\n]/g, " ")
          .split("<%").join("\t")
          .replace(/((^|%>)[^\t]*)'/g, "$1\r")
          .replace(/\t=(.*?)%>/g, "',$1,'")
          .split("\t").join("');")
          .split("%>").join("p.push('")
          .split("\r").join("\\'")
      + "');}return p.join('');");
   
    // Provide some basic currying to the user
    return data ? fn( data ) : fn;
  };
})();

function templ(str,obj){
	var p=[];
	var ss = "a,b,c,d";
	console.log(ss.split(','),ss.split('x').join("');"));
	var str1 = str.replace(/[\r\t\n]/g, " ");
         console.log('str1',str1);
        var str2 = str1.split("<%").join("\t");
        console.log('str2',str2);
        var str3 = str2.replace(/((^|%>)[^\t]*)'/g, "$1\r");
        console.log('str3',str3);
        var str4 = str3.replace(/\t=(.*?)%>/g, "',$1,'");
        console.log('str4',str4);
        var str5 = str4.split("\t").join("');");
        console.log('str5',str5);
        var str6= str5.split("%>").join("p.push('");
        console.log('str6',str6);
        var str7=str6.split("\r").join("\\'");
        console.log('str7',str7);
        str.replace(/[\r\t\n]/g, " ")
          .split("<%").join("\t")
          .replace(/((^|%>)[^\t]*)'/g, "$1\r")
          .replace(/\t=(.*?)%>/g, "',$1,'")
          .split("\t").join("');")
          .split("%>").join("p.push('")
          .split("\r").join("\\'")
;
    return p.join('');
}
	        </script>
	    </head>
	    <body>
	        <!--[if lt IE 7]>
	            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
	        <![endif]-->
	
	        <!-- Add your site or application content here -->
	        <p>Hello world! This is HTML5 Boilerplate.</p>
	<script type="text/html" id="item_tmpl">
    <div class="grid_6 omega contents">
      <p><b><a href="/<%=from_user%>"><%=from_user%></a>:</b> <%=text%></p>
    </div>
</script>
<div id="results"></div>
<script>
	var dataObject={id:"2",i:3,profile_image_url:"http://www.baidu.com/favicon.ico",from_user:"http://www.baidu.com",text:"mike"};
	var results = document.getElementById("results");
results.innerHTML = tmpl('item_tmpl', dataObject);
</script>

	    </body>
	</html>	